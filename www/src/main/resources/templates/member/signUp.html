<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>회원가입 페이지</title>

<link href="/css/signUpStyle.css" rel="stylesheet">
</head>

<body>
	<div class="mid">
		<form class="form" method="post">
			<p class="title">Membership Register</p>

			<div class="flex">
				<label> <input name="name" required placeholder=""
					type="text" class="input"> <span>이름</span>
				</label>
			</div>

			<div class="flex">
				<label class="input-label"> <input id="userid" name="userid"
					required placeholder="" type="text" class="input"> <span>아이디</span>
				</label>
				<button type="button" class="check-btn" onclick="checkUserid()">중복
					확인</button>
			</div>

			<div class="flex">
				<label> <input name="nick" required placeholder=""
					type="text" class="input"> <span>닉네임</span>
				</label>
			</div>

			<label> <input name="userpw" required placeholder=""
				type="password" class="input"> <span>비밀번호</span>
			</label> <label> <input name="phone" required placeholder=""
				type="text" class="input"> <span>전화번호</span>
			</label> <label> <input name="birth" required placeholder=""
				type="date" class="input"> <span>생년월일</span>
			</label> <label> <input name="email" required placeholder=""
				type="email" class="input"> <span>E-mail</span>
			</label>

			<button class="submit">회원가입</button>
		</form>

		<script>
			function checkUserid() {
				let userid = document.querySelector("#userid").value;

				console.log(userid);

			  //db주소로 접근해서 queryselect로 넘겨줘서 맞는지 확인하고 다시 아이디를 가져와서 
			  // 아이디창에 띄워주고 맞는지 아닌지 확인
			  fetch("http://localhost:8080/member/checkUserid?userid=" + userid, {method:"get"})
			  .then(response => response.json())
			  .then(data => {
				alert(data.name);
			  })

			}
		</script>

	</div>
</body>

</html>
